@import url('https://fonts.googleapis.com/css2?family=Oxanium:wght@200..800&display=swap');

/* ===== System-aware defaults ===== */
:root {
  color-scheme: light dark;
  --default-bg: light-dark(#ffffff, hsl(222 10% 10%));
  --default-fg: light-dark(#111111, hsl(0 0% 96%));
  --default-highlight: light-dark(hsl(210 100% 46%), hsl(210 100% 60%));

  /* resolved tokens */
  --bg: var(--brand-bg, var(--default-bg));
  --fg: var(--brand-fg, var(--default-fg));
  --highlight: var(--brand-highlight, var(--default-highlight));

  /* derived */
  --border: color-mix(in srgb, var(--fg) 20%, var(--bg));
  --muted: color-mix(in srgb, var(--fg) 40%, var(--bg));
  
  --button-bg: var(--default-highlight);
  --button-text: var(--fg);
  
  font-family: Oxanium, sans-serif;
  font-size: 1rem;
}

/* ===== CSS-only user presets (no IDs/classes) ===== */
/* Scheme: Auto = do nothing (already OS-coupled) */

/* Force Light */
:root:has([name="scheme"][value="light"]:checked) {
  --bg: #ffffff;
  --fg: #111111;
  --highlight: hsl(210 100% 46%);
}

/* Force Dark */
:root:has([name="scheme"][value="dark"]:checked) {
  --bg: hsl(222 10% 10%);
  --fg: hsl(0 0% 96%);
  --highlight: hsl(210 100% 60%);
}

/* Accent presets */
:root:has([name="accent"][value="blue"]:checked) {
  --brand-highlight: hsl(210 100% 50%);
}
:root:has([name="accent"][value="orange"]:checked) {
  --brand-highlight: hsl(26 100% 50%);
}
:root:has([name="accent"][value="green"]:checked) {
  --brand-highlight: hsl(145 70% 42%);
}
:root:has([name="accent"][value="pink"]:checked) {
  --brand-highlight: hsl(330 75% 60%);
}

:root:has([name="accent"]:checked){ --highlight: var(--brand-highlight) !important; }


/* ===== Respect OS forced colors ===== */
@media (forced-colors: active) {
  :root {
    --bg: Canvas;
    --fg: CanvasText;
    --highlight: LinkText;
    --border: CanvasText;
    --muted: GrayText;
  }
}

/* ===== One-time plumbing ===== */
html {
  background: var(--bg);
  color: var(--fg);
  accent-color: var(--highlight);
  font-family: system-ui, sans-serif;
  min-height: 100dvh;
}
body {
  margin: 0;
  display: grid;
  gap: 1rem;
  place-content: center;
  padding: 2rem;
}
a {
  color: color-mix(in srgb, var(--highlight) 50%, transparent);
}

a:hover {
    color: color-mix(in srgb, var(--highlight) 100%, transparent);
  }

::selection {
  background: color-mix(in srgb, var(--highlight) 30%, transparent);
}
fieldset {
  border: 1px solid var(--border);
  padding: 0.75rem;
  border-radius: 0.3rem;
}
legend {
  font-weight: 600;
}
label {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  margin-inline-end: 1rem;
}
button {
  border: 1px solid var(--border);
  background: transparent;
  color: inherit;
  padding: 0.5rem 0.75rem;
}

/* Native color input (classless) */
input[type="color"] {
  inline-size: 2.5rem;
  block-size: 2rem;
  padding: 0;
  border: 1px solid var(--border);
  background: transparent;
  cursor: pointer;
}
input[type="color"]::-webkit-color-swatch-wrapper {
  padding: 0;
}
input[type="color"]::-webkit-color-swatch,
input[type="color"]::-moz-color-swatch {
  border: 0;
}

/* Make the custom color label visibly “inactive” (no-JS mode) */
label:has(input[type="color"]) small {
  color: var(--muted);
  font-style: italic;
}

button {
  padding: .5rem 1rem;
  border: none;
  cursor: pointer;
  background-color: color-mix(in srgb, var(--highlight) 50%, transparent);
  color: var(--button-text);
  border-radius: 5px;
}

button:hover {
  background-color: color-mix(in srgb, var(--highlight) 100%, transparent);
  color: var(--background-color);
}

code {
  background-color: color-mix(in srgb, var(--highlight) 25%, transparent);
  border: solid 1px color-mix(in srgb, var(--highlight) 100%, transparent);
  border-radius: 0.3rem;
  padding: .05rem .1rem;
}

ul {
  padding-inline-start: 1rem;
}
